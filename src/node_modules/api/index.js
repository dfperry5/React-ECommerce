import R from 'ramda'
import mockPhones from "api/mockPhones";
import mockCategories from "api/mockCategories";

const getPhonesURL = 'http://www.mocky.io/v2/5c29128a3300007300a58be9'

const getCategoriesURL = 'http://www.mocky.io/v2/5c29132e3300005600a58bea'

export const fetchPhones = async() =>{

    const response = await fetch(getPhonesURL);
    const json = await response.json();
    return json.phones;

}

export const loadMorePhones = async({offset}) =>{
    const response = await fetch(getPhonesURL);
    const json = await response.json();
    return json.phones;
}

export const fetchPhoneById = async id => {
    const response  = await fetch(getPhonesURL);
    const json = await response.json();
    const phone = R.find(R.propEq('id', id), json.phones);
    return phone;
}


export const fetchCategories = async() =>{
    const response = await fetch(getCategoriesURL);
    const json = await response.json();
    return json.categories;
}